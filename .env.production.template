# Production Environment Template for Sightline.ai
# Generated: 2025-01-17
# 
# CRITICAL: This template includes ALL environment variables required for production
# Each variable is documented with its purpose and source
# DO NOT commit actual values to version control

# ==============================================================================
# CORE APPLICATION
# ==============================================================================

# Database connection string (Neon PostgreSQL)
# Source: Neon Dashboard > Connection Details
# Format: postgresql://[user]:[password]@[host]/[database]?sslmode=require
DATABASE_URL="postgresql://USER:PASSWORD@HOST/DATABASE?sslmode=require"

# Application base URL (no trailing slash)
# Source: Your production domain
# Example: https://sightline.ai or https://app.sightline.ai
NEXT_PUBLIC_APP_URL="https://YOUR_DOMAIN.com"

# Node environment
NODE_ENV="production"

# ==============================================================================
# AUTHENTICATION (CLERK)
# ==============================================================================

# Clerk server-side secret key
# Source: Clerk Dashboard > API Keys > Secret keys
# Format: sk_live_...
CLERK_SECRET_KEY="sk_live_YOUR_SECRET_KEY"

# Clerk client-side publishable key  
# Source: Clerk Dashboard > API Keys > Publishable keys
# Format: pk_live_...
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="pk_live_YOUR_PUBLISHABLE_KEY"

# Clerk webhook signing secret
# Source: Clerk Dashboard > Webhooks > Signing secret
# Used to verify webhook authenticity at /api/webhooks/clerk
CLERK_WEBHOOK_SECRET="whsec_YOUR_WEBHOOK_SECRET"

# ==============================================================================
# PAYMENTS (STRIPE)
# ==============================================================================

# Stripe server-side secret key
# Source: Stripe Dashboard > Developers > API keys > Secret key
# Format: sk_live_...
STRIPE_SECRET_KEY="sk_live_YOUR_SECRET_KEY"

# Stripe client-side publishable key
# Source: Stripe Dashboard > Developers > API keys > Publishable key
# Format: pk_live_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_live_YOUR_PUBLISHABLE_KEY"

# Stripe webhook signing secret
# Source: Stripe Dashboard > Developers > Webhooks > Signing secret
# Used to verify webhook authenticity at /api/webhooks/stripe
STRIPE_WEBHOOK_SECRET="whsec_YOUR_WEBHOOK_SECRET"

# Stripe Pro Plan price ID
# Source: Stripe Dashboard > Products > Pro Plan > Pricing > API ID
# Format: price_...
NEXT_PUBLIC_STRIPE_PRO_PRICE_ID="price_YOUR_PRO_PRICE_ID"

# Stripe Enterprise Plan price ID
# Source: Stripe Dashboard > Products > Enterprise Plan > Pricing > API ID
# Format: price_...
NEXT_PUBLIC_STRIPE_ENTERPRISE_PRICE_ID="price_YOUR_ENTERPRISE_PRICE_ID"

# ==============================================================================
# AI SERVICES
# ==============================================================================

# OpenAI API key for summarization and Smart Collections
# Source: OpenAI Platform > API keys
# Format: sk-...
# Used for: Video summarization, entity extraction, category classification
OPENAI_API_KEY="sk-YOUR_OPENAI_API_KEY"

# YouTube Data API key for video metadata
# Source: Google Cloud Console > APIs & Services > Credentials
# Used for: Fetching video titles, channels, metadata
YOUTUBE_API_KEY="YOUR_YOUTUBE_API_KEY"

# ==============================================================================
# TRANSCRIPT SERVICES (FALLBACK CHAIN)
# Order: YouTube API → YT-DLP → Oxylabs → Gumloop
# ==============================================================================

# Gumloop API key for enhanced transcript processing
# Source: Gumloop Dashboard > API Keys
# Used for: Rich content extraction (frameworks, playbooks, key moments)
GUMLOOP_API_KEY="YOUR_GUMLOOP_API_KEY"

# Oxylabs proxy service credentials
# Source: Oxylabs Dashboard > Credentials
# Used for: Transcript extraction when other methods fail
OXYLABS_USERNAME="YOUR_OXYLABS_USERNAME"
OXYLABS_PASSWORD="YOUR_OXYLABS_PASSWORD"

# ==============================================================================
# MONITORING & ANALYTICS (OPTIONAL)
# ==============================================================================

# Sentry DSN for error tracking
# Source: Sentry Dashboard > Settings > Client Keys (DSN)
# Format: https://...@...ingest.sentry.io/...
# Leave empty to disable Sentry
SENTRY_DSN=""

# Sentry authentication token for source maps
# Source: Sentry Dashboard > Settings > Auth Tokens
# Used during build for uploading source maps
SENTRY_AUTH_TOKEN=""

# PostHog API key for product analytics
# Source: PostHog Dashboard > Project Settings > API Keys
# Format: phc_...
# Leave empty to disable PostHog
NEXT_PUBLIC_POSTHOG_KEY=""

# PostHog API host
# Default: https://app.posthog.com
NEXT_PUBLIC_POSTHOG_HOST="https://app.posthog.com"

# ==============================================================================
# CACHING & PERFORMANCE (OPTIONAL)
# ==============================================================================

# Upstash Redis connection URL
# Source: Upstash Console > Database > REST API > REST URL
# Format: https://...upstash.io
# Used for: Session caching, rate limiting, temporary data
UPSTASH_REDIS_URL=""

# Upstash Redis REST token
# Source: Upstash Console > Database > REST API > REST Token
UPSTASH_REDIS_TOKEN=""

# ==============================================================================
# EMAIL SERVICES (OPTIONAL)
# ==============================================================================

# MailerLite API key for email notifications
# Source: MailerLite Dashboard > Integrations > API
# Used for: Transactional emails, newsletter
MAILERLITE_API_KEY=""

# ==============================================================================
# DEPLOYMENT & BUILD
# ==============================================================================

# Vercel deployment protection bypass token
# Source: Vercel Dashboard > Settings > Security > Deployment Protection
# Used to bypass deployment protection in production
VERCEL_AUTOMATION_BYPASS_SECRET=""

# Next.js telemetry (set to 1 to disable)
NEXT_TELEMETRY_DISABLED="1"

# ==============================================================================
# SECURITY HEADERS & CORS
# ==============================================================================

# Content Security Policy nonce (auto-generated)
# Used for inline scripts security
# Generated at runtime, do not set manually

# CORS allowed origins (comma-separated)
# Example: https://app.sightline.ai,https://sightline.ai
# Leave empty for same-origin only
CORS_ALLOWED_ORIGINS=""

# ==============================================================================
# RATE LIMITING
# ==============================================================================

# Rate limit window in milliseconds (default: 60000 = 1 minute)
RATE_LIMIT_WINDOW="60000"

# Maximum requests per window for anonymous users (default: 10)
RATE_LIMIT_MAX_ANONYMOUS="10"

# Maximum requests per window for authenticated users (default: 100)
RATE_LIMIT_MAX_AUTHENTICATED="100"

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================

# Enable beta features (true/false)
NEXT_PUBLIC_ENABLE_BETA_FEATURES="false"

# Enable debug mode (true/false) - NEVER true in production
NEXT_PUBLIC_DEBUG_MODE="false"

# ==============================================================================
# PYTHON API CONFIGURATION
# ==============================================================================

# Python API base URL (internal)
# Default: http://localhost:8000 for local, use internal URL in production
PYTHON_API_URL="http://localhost:8000"

# Python API timeout in milliseconds (default: 300000 = 5 minutes)
PYTHON_API_TIMEOUT="300000"

# ==============================================================================
# VALIDATION CHECKLIST
# ==============================================================================
# 
# REQUIRED for production:
# ✓ DATABASE_URL - PostgreSQL connection
# ✓ NEXT_PUBLIC_APP_URL - Production domain
# ✓ CLERK_SECRET_KEY - Authentication
# ✓ NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY - Auth UI
# ✓ CLERK_WEBHOOK_SECRET - User sync
# ✓ STRIPE_SECRET_KEY - Payments
# ✓ NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY - Payment UI
# ✓ STRIPE_WEBHOOK_SECRET - Subscription sync
# ✓ NEXT_PUBLIC_STRIPE_PRO_PRICE_ID - Pro plan
# ✓ NEXT_PUBLIC_STRIPE_ENTERPRISE_PRICE_ID - Enterprise plan
# ✓ OPENAI_API_KEY - AI summarization
# ✓ YOUTUBE_API_KEY - Video metadata
# 
# HIGHLY RECOMMENDED:
# ✓ GUMLOOP_API_KEY - Enhanced transcripts
# ✓ OXYLABS_USERNAME/PASSWORD - Fallback transcripts
# ✓ SENTRY_DSN - Error tracking
# ✓ UPSTASH_REDIS_URL/TOKEN - Caching
# 
# Run validation: pnpm env:validate